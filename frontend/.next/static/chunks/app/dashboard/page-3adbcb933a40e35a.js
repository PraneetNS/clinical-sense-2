(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{4010:function(e,t,s){Promise.resolve().then(s.bind(s,6649))},933:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2023:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},2513:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},883:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2022:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6649:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(7437),n=s(2265),o=s(7138),r=s(2800),l=s(2023),i=s(2022),c=s(2513),d=s(8030);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var p=s(4817),x=s(933),h=s(883);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,d.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var m=s(1270);function f(){let[e,t]=(0,n.useState)([]),[s,d]=(0,n.useState)(!0),[f,y]=(0,n.useState)(""),[b,v]=(0,n.useState)("keyword"),[j,w]=(0,n.useState)(null),{logout:N}=(0,m.a)();(0,n.useEffect)(()=>{k()},[]);let k=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keyword";try{d(!0);let a=await r.gr.getAll(e,s);t(a.data)}catch(e){console.error(e),w("Failed to load clinical notes.")}finally{d(!1)}},S=async(e,t)=>{if(e.preventDefault(),e.stopPropagation(),confirm("Are you sure you want to delete this note? This action can be undone by an administrator."))try{await r.gr.delete(t),k(f,b)}catch(e){alert("Failed to delete note.")}};return(0,a.jsxs)("div",{className:"flex h-screen bg-slate-50",children:[(0,a.jsxs)("aside",{className:"w-64 bg-slate-900 text-white flex flex-col pt-8",children:[(0,a.jsxs)("div",{className:"px-6 mb-10",children:[(0,a.jsx)("div",{className:"bg-teal-600 w-10 h-10 rounded-lg flex items-center justify-center font-bold text-xl mb-4",children:"C"}),(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Clinical Assistant"})]}),(0,a.jsxs)("nav",{className:"flex-1 px-4 space-y-2",children:[(0,a.jsxs)(o.default,{href:"/dashboard",className:"flex items-center gap-3 px-4 py-3 bg-slate-800 rounded-lg text-white font-medium",children:[(0,a.jsx)(l.Z,{size:20})," My Notes"]}),(0,a.jsxs)(o.default,{href:"/patients",className:"flex items-center gap-3 px-4 py-3 text-slate-400 hover:bg-slate-800 hover:text-white rounded-lg transition-colors",children:[(0,a.jsx)(i.Z,{size:20})," Patients"]}),(0,a.jsxs)(o.default,{href:"/notes/new",className:"flex items-center gap-3 px-4 py-3 text-slate-400 hover:bg-slate-800 hover:text-white rounded-lg transition-colors",children:[(0,a.jsx)(c.Z,{size:20})," Create New"]})]}),(0,a.jsx)("div",{className:"p-4 border-t border-slate-800",children:(0,a.jsxs)("button",{onClick:N,className:"flex items-center gap-3 px-4 py-3 text-slate-400 hover:text-white w-full transition-colors",children:[(0,a.jsx)(u,{size:20})," Logout"]})})]}),(0,a.jsxs)("main",{className:"flex-1 overflow-auto p-10",children:[(0,a.jsxs)("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-slate-900",children:"Clinical Documentation"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Review and manage your structured SOAP notes."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Search by title...",value:f,onChange:e=>y(e.target.value),onKeyDown:e=>"Enter"===e.key&&k(f,b),className:"pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none w-64 shadow-sm text-sm"})]}),(0,a.jsxs)("select",{value:b,onChange:e=>{v(e.target.value),f.trim()&&k(f,e.target.value)},className:"py-3 px-4 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none shadow-sm text-sm",children:[(0,a.jsx)("option",{value:"keyword",children:"Keyword"}),(0,a.jsx)("option",{value:"semantic",children:"Semantic (AI)"})]}),(0,a.jsxs)(o.default,{href:"/notes/new",className:"px-6 py-3 bg-teal-600 text-white font-bold rounded-xl shadow-lg hover:bg-teal-700 transition-all flex items-center gap-2",children:[(0,a.jsx)(c.Z,{size:20})," New Note"]})]})]}),s?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):j?(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 p-6 rounded-2xl flex items-center gap-4",children:[(0,a.jsx)(x.Z,{className:"text-red-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:"Error Loading Data"}),(0,a.jsx)("p",{className:"text-sm",children:j})]})]}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-20 bg-white rounded-3xl border-2 border-dashed border-slate-200",children:[(0,a.jsx)(l.Z,{size:48,className:"mx-auto text-slate-300 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:"No notes found"}),(0,a.jsx)("p",{className:"text-slate-500 mb-6",children:"Start by creating your first structured SOAP note."}),(0,a.jsx)(o.default,{href:"/notes/new",className:"text-teal-600 font-bold hover:underline",children:"Create a note now â†’"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map(e=>(0,a.jsxs)(o.default,{href:"/notes/".concat(e.id),className:"group bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center text-slate-500 group-hover:bg-teal-50 group-hover:text-teal-600 transition-colors",children:(0,a.jsx)(l.Z,{size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-slate-900",children:e.title||"Untitled Note"}),(0,a.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[new Date(e.created_at).toLocaleDateString()," at ",new Date(e.created_at).toLocaleTimeString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-end gap-2",children:["finalized"===e.status?(0,a.jsx)("span",{className:"text-[10px] uppercase tracking-widest font-bold bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"Finalized"}):(0,a.jsx)("span",{className:"text-[10px] uppercase tracking-widest font-bold bg-orange-100 text-orange-700 px-2 py-1 rounded",children:"Draft"}),e.structured_content&&(0,a.jsx)("span",{className:"text-[10px] uppercase tracking-widest font-bold bg-green-100 text-green-700 px-2 py-1 rounded",children:"Structured"})]}),(0,a.jsx)("button",{onClick:t=>S(t,e.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Note",children:(0,a.jsx)(h.Z,{size:18})}),(0,a.jsx)(g,{size:20,className:"text-slate-300 group-hover:text-teal-600 transition-colors"})]})]},e.id))})]})]})}},1270:function(e,t,s){"use strict";s.d(t,{H:function(){return i},a:function(){return c}});var a=s(7437),n=s(2265),o=s(6463),r=s(2800);let l=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[u,p]=(0,n.useState)(!0),x=(0,o.useRouter)();(0,o.usePathname)(),(0,n.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(e){d(e);try{let e=await r.iJ.getMe();i(e.data)}catch(e){console.error("Session restoration failed",e),localStorage.removeItem("token"),d(null)}}p(!1)})()},[]);let h=async e=>{localStorage.setItem("token",e),d(e);try{let e=await r.iJ.getMe();i(e.data),x.push("/dashboard")}catch(e){console.error("Failed to fetch user after login",e),x.push("/login")}};return(0,a.jsx)(l.Provider,{value:{user:s,token:c,login:h,logout:()=>{localStorage.removeItem("token"),d(null),i(null),x.push("/login")},isLoading:u},children:t})}let c=()=>{let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2800:function(e,t,s){"use strict";s.d(t,{gr:function(){return n},iJ:function(){return l},r:function(){return r},yN:function(){return o}});let a=s(8472).Z.create({baseURL:"http://localhost:8000/api/v1"});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),a.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));let n={getAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keyword";return a.get("/notes/",{params:{search:e,mode:t}})},getById:e=>a.get("/notes/".concat(e)),create:e=>a.post("/notes/structure",e),generateSoap:e=>a.post("/notes/".concat(e,"/generate")),update:(e,t)=>a.put("/notes/".concat(e),t),delete:e=>a.delete("/notes/".concat(e)),getAudit:e=>a.get("/notes/".concat(e,"/audit")),getHistory:e=>a.get("/notes/".concat(e,"/history"))},o={getAll:e=>a.get("/patients/",{params:{search:e}}),getById:e=>a.get("/patients/".concat(e)),getTimeline:e=>a.get("/patients/".concat(e,"/timeline")),create:e=>a.post("/patients/",e),update:(e,t)=>a.patch("/patients/".concat(e),t),getReport:e=>a.get("/patients/".concat(e,"/report")),downloadReportPdf:e=>a.get("/patients/".concat(e,"/report/pdf"),{responseType:"blob"}),toggleStatus:(e,t)=>a.patch("/patients/".concat(e),{status:t})},r={getHistory:e=>a.get("/patients/".concat(e,"/history")),addHistory:(e,t)=>a.post("/patients/".concat(e,"/history"),t),updateHistory:(e,t)=>a.put("/patients/history/".concat(e),t),deleteHistory:e=>a.delete("/patients/history/".concat(e)),getMedications:e=>a.get("/patients/".concat(e,"/medications")),addMedication:(e,t)=>a.post("/patients/".concat(e,"/medications"),t),updateMedication:(e,t)=>a.put("/patients/medications/".concat(e),t),deleteMedication:e=>a.delete("/patients/medications/".concat(e)),addAllergy:(e,t)=>a.post("/patients/".concat(e,"/allergies"),t),updateAllergy:(e,t)=>a.put("/patients/allergies/".concat(e),t),deleteAllergy:e=>a.delete("/patients/allergies/".concat(e)),getAdmissions:e=>a.get("/patients/".concat(e,"/admissions")),addAdmission:(e,t)=>a.post("/patients/".concat(e,"/admissions"),t),updateAdmission:(e,t)=>a.put("/patients/admissions/".concat(e),t),deleteAdmission:e=>a.delete("/patients/admissions/".concat(e)),getProcedures:e=>a.get("/patients/".concat(e,"/procedures")),addProcedure:(e,t)=>a.post("/patients/".concat(e,"/procedures"),t),updateProcedure:(e,t)=>a.put("/patients/procedures/".concat(e),t),deleteProcedure:e=>a.delete("/patients/procedures/".concat(e)),getDocuments:e=>a.get("/patients/".concat(e,"/documents")),uploadDocument:(e,t)=>a.post("/patients/".concat(e,"/documents/upload"),t,{headers:{"Content-Type":"multipart/form-data"}}),addDocument:(e,t)=>a.post("/patients/".concat(e,"/documents"),t),updateDocument:(e,t)=>a.put("/patients/documents/".concat(e),t),deleteDocument:e=>a.delete("/patients/documents/".concat(e)),getTasks:e=>a.get("/patients/".concat(e,"/tasks")),addTask:(e,t)=>a.post("/patients/".concat(e,"/tasks"),t),updateTask:(e,t)=>a.put("/patients/tasks/".concat(e),t),deleteTask:e=>a.delete("/patients/tasks/".concat(e)),getBilling:e=>a.get("/patients/".concat(e,"/billing")),addBilling:(e,t)=>a.post("/patients/".concat(e,"/billing"),t),updateBilling:(e,t)=>a.put("/patients/billing/".concat(e),t),deleteBilling:e=>a.delete("/patients/billing/".concat(e))},l={login:e=>a.post("/auth/login",e),register:e=>a.post("/auth/register",e),getMe:()=>a.get("/auth/me")}}},function(e){e.O(0,[236,48,971,23,744],function(){return e(e.s=4010)}),_N_E=e.O()}]);