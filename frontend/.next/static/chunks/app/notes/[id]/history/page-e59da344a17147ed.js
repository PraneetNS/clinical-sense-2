(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[926],{4324:function(e,t,s){Promise.resolve().then(s.bind(s,2117))},8030:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2265);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:n=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:l="",children:d,iconNode:p,...u}=e;return(0,a.createElement)("svg",{ref:t,...r,width:n,height:n,stroke:s,strokeWidth:i?24*Number(c)/Number(n):c,className:o("lucide",l),...u},[...p.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{className:i,...l}=s;return(0,a.createElement)(c,{ref:r,iconNode:t,className:o("lucide-".concat(n(e)),i),...l})});return s.displayName="".concat(e),s}},933:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2117:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(7437),n=s(2265),o=s(6463),r=s(2800);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,s(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var i=s(933);function l(){let{id:e}=(0,o.useParams)(),t=(0,o.useRouter)(),[s,l]=(0,n.useState)([]),[d,p]=(0,n.useState)(!0);(0,n.useEffect)(()=>{e&&u()},[e]);let u=async()=>{try{p(!0);let t=await r.gr.getHistory(e);l(t.data)}catch(e){console.error(e)}finally{p(!1)}};return d?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-50",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[(0,a.jsxs)("nav",{className:"bg-white border-b border-slate-200 px-10 py-4 flex items-center gap-6",children:[(0,a.jsx)("button",{onClick:()=>t.back(),className:"text-slate-500 hover:text-teal-600 transition-colors",children:(0,a.jsx)(c,{size:24})}),(0,a.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"Version History"})]}),(0,a.jsx)("main",{className:"flex-1 p-10 max-w-4xl mx-auto w-full",children:(0,a.jsx)("div",{className:"space-y-6",children:0===s.length?(0,a.jsxs)("div",{className:"text-center py-20 bg-white rounded-3xl border border-slate-200",children:[(0,a.jsx)(i.Z,{size:48,className:"mx-auto text-slate-300 mb-4"}),(0,a.jsx)("p",{className:"text-slate-500 font-medium",children:"No version history available."}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Edits will appear here."})]}):s.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"bg-teal-50 text-teal-700 font-bold px-3 py-1 rounded-lg text-sm",children:["v",s.length-t]}),(0,a.jsxs)("span",{className:"text-slate-500 text-sm",children:[new Date(e.created_at).toLocaleDateString()," at ",new Date(e.created_at).toLocaleTimeString()]})]})}),(0,a.jsx)("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 text-sm font-mono text-slate-700 overflow-x-auto",children:(0,a.jsx)("pre",{children:JSON.stringify(JSON.parse(e.structured_content||"{}"),null,2)})})]},e.id))})})]})}},2800:function(e,t,s){"use strict";s.d(t,{gr:function(){return n},iJ:function(){return c},r:function(){return r},yN:function(){return o}});let a=s(8472).Z.create({baseURL:"http://localhost:8000/api/v1"});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),a.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));let n={getAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keyword";return a.get("/notes/",{params:{search:e,mode:t}})},getById:e=>a.get("/notes/".concat(e)),create:e=>a.post("/notes/structure",e),generateSoap:e=>a.post("/notes/".concat(e,"/generate")),update:(e,t)=>a.put("/notes/".concat(e),t),delete:e=>a.delete("/notes/".concat(e)),getAudit:e=>a.get("/notes/".concat(e,"/audit")),getHistory:e=>a.get("/notes/".concat(e,"/history"))},o={getAll:e=>a.get("/patients/",{params:{search:e}}),getById:e=>a.get("/patients/".concat(e)),getTimeline:e=>a.get("/patients/".concat(e,"/timeline")),create:e=>a.post("/patients/",e),update:(e,t)=>a.patch("/patients/".concat(e),t),getReport:e=>a.get("/patients/".concat(e,"/report")),downloadReportPdf:e=>a.get("/patients/".concat(e,"/report/pdf"),{responseType:"blob"}),toggleStatus:(e,t)=>a.patch("/patients/".concat(e),{status:t})},r={getHistory:e=>a.get("/patients/".concat(e,"/history")),addHistory:(e,t)=>a.post("/patients/".concat(e,"/history"),t),updateHistory:(e,t)=>a.put("/patients/history/".concat(e),t),deleteHistory:e=>a.delete("/patients/history/".concat(e)),getMedications:e=>a.get("/patients/".concat(e,"/medications")),addMedication:(e,t)=>a.post("/patients/".concat(e,"/medications"),t),updateMedication:(e,t)=>a.put("/patients/medications/".concat(e),t),deleteMedication:e=>a.delete("/patients/medications/".concat(e)),addAllergy:(e,t)=>a.post("/patients/".concat(e,"/allergies"),t),updateAllergy:(e,t)=>a.put("/patients/allergies/".concat(e),t),deleteAllergy:e=>a.delete("/patients/allergies/".concat(e)),getAdmissions:e=>a.get("/patients/".concat(e,"/admissions")),addAdmission:(e,t)=>a.post("/patients/".concat(e,"/admissions"),t),updateAdmission:(e,t)=>a.put("/patients/admissions/".concat(e),t),deleteAdmission:e=>a.delete("/patients/admissions/".concat(e)),getProcedures:e=>a.get("/patients/".concat(e,"/procedures")),addProcedure:(e,t)=>a.post("/patients/".concat(e,"/procedures"),t),updateProcedure:(e,t)=>a.put("/patients/procedures/".concat(e),t),deleteProcedure:e=>a.delete("/patients/procedures/".concat(e)),getDocuments:e=>a.get("/patients/".concat(e,"/documents")),uploadDocument:(e,t)=>a.post("/patients/".concat(e,"/documents/upload"),t,{headers:{"Content-Type":"multipart/form-data"}}),addDocument:(e,t)=>a.post("/patients/".concat(e,"/documents"),t),updateDocument:(e,t)=>a.put("/patients/documents/".concat(e),t),deleteDocument:e=>a.delete("/patients/documents/".concat(e)),getTasks:e=>a.get("/patients/".concat(e,"/tasks")),addTask:(e,t)=>a.post("/patients/".concat(e,"/tasks"),t),updateTask:(e,t)=>a.put("/patients/tasks/".concat(e),t),deleteTask:e=>a.delete("/patients/tasks/".concat(e)),getBilling:e=>a.get("/patients/".concat(e,"/billing")),addBilling:(e,t)=>a.post("/patients/".concat(e,"/billing"),t),updateBilling:(e,t)=>a.put("/patients/billing/".concat(e),t),deleteBilling:e=>a.delete("/patients/billing/".concat(e))},c={login:e=>a.post("/auth/login",e),register:e=>a.post("/auth/register",e),getMe:()=>a.get("/auth/me")}}},function(e){e.O(0,[236,971,23,744],function(){return e(e.s=4324)}),_N_E=e.O()}]);