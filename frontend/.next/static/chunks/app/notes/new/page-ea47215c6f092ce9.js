(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[364],{2014:function(e,t,s){Promise.resolve().then(s.bind(s,2832))},518:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},6780:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9061:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},6127:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2832:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(7437),n=s(2265),i=s(6463),l=s(7138),o=s(2800),r=s(518),c=s(6780);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,s(8030).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var u=s(6127),p=s(5328);function m(){let[e,t]=(0,n.useState)(""),[s,m]=(0,n.useState)(""),[g,h]=(0,n.useState)(!1),[x,f]=(0,n.useState)(null),[b,y]=(0,n.useState)(null),[v,j]=(0,n.useState)(null),[N,k]=(0,n.useState)([]),[S,w]=(0,n.useState)(void 0),[A,P]=(0,n.useState)("SOAP"),C=(0,i.useRouter)();(0,n.useEffect)(()=>{o.yN.getAll().then(e=>k(e.data)).catch(console.error);let e=localStorage.getItem("note_draft"),s=localStorage.getItem("note_title_draft");e&&m(e),s&&t(s)},[]),(0,n.useEffect)(()=>{localStorage.setItem("note_draft",s),localStorage.setItem("note_title_draft",e)},[s,e]);let _=()=>{localStorage.removeItem("note_draft"),localStorage.removeItem("note_title_draft")},I=async()=>{if(!s.trim()||s.length<10){f("Clinical notes must be at least 10 characters long.");return}try{h(!0),f(null);let t=(await o.gr.create({title:e||"Untitled Note",raw_content:s,note_type:A,patient_id:S})).data;j(t.id),y(t.structured_content),_()}catch(e){var t,a;console.error(e),f((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.detail)||"Failed to generate SOAP note. Please check your API connection.")}finally{h(!1)}},M=async()=>{confirm("This will replace your current structured edits with a fresh AI generation. Continue?")&&(y(null),I())},Z=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"finalized";if(v)try{h(!0),await o.gr.update(v,{structured_content:e,status:t}),C.push("/dashboard")}catch(e){f("Failed to save changes."),h(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[(0,a.jsxs)("nav",{className:"bg-white border-b border-slate-200 px-10 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsx)(l.default,{href:"/dashboard",className:"text-slate-500 hover:text-teal-600 transition-colors",children:(0,a.jsx)(r.Z,{size:24})}),(0,a.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"New Clinical Documentation"})]}),g&&(0,a.jsx)("div",{className:"text-teal-600 text-sm font-medium animate-pulse",children:"Processing..."})]}),(0,a.jsxs)("main",{className:"flex-1 p-10 max-w-6xl mx-auto w-full",children:[x&&(0,a.jsxs)("div",{className:"mb-8 bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3",children:[(0,a.jsx)(c.Z,{size:20}),(0,a.jsx)("p",{className:"text-sm font-medium",children:x})]}),b?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(p.Z,{initialData:b,onSave:Z,noteType:A}),(0,a.jsx)("div",{className:"flex justify-center pb-20",children:(0,a.jsxs)("button",{onClick:M,className:"flex items-center gap-2 text-slate-400 hover:text-teal-600 transition-colors text-sm font-medium",children:[(0,a.jsx)(u.Z,{size:16})," Not satisfied? Regenerate Structured Note"]})})]}):(0,a.jsx)("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden",children:(0,a.jsxs)("div",{className:"p-8 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Patient (Optional)"}),(0,a.jsxs)("select",{value:S||"",onChange:e=>w(e.target.value?Number(e.target.value):void 0),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",children:[(0,a.jsx)("option",{value:"",children:"-- Select Patient --"}),N.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.mrn,")"]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Note Type"}),(0,a.jsxs)("select",{value:A,onChange:e=>P(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",children:[(0,a.jsx)("option",{value:"SOAP",children:"SOAP Note"}),(0,a.jsx)("option",{value:"PROGRESS",children:"Progress Note"}),(0,a.jsx)("option",{value:"DISCHARGE",children:"Discharge Summary"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Note Title"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"e.g. Pt #9822 - Recurring Migraine",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-slate-700",children:"Raw Clinical Notes"}),(0,a.jsxs)("span",{className:"text-xs font-medium ".concat(s.length>45e3?"text-red-500":"text-slate-400"),children:[s.length.toLocaleString()," / 50,000"]})]}),(0,a.jsx)("textarea",{value:s,onChange:e=>m(e.target.value),placeholder:"Paste observation notes here... (min 10 characters)",className:"w-full h-80 px-4 py-3 bg-slate-50 border ".concat(s.length>5e4?"border-red-500 bg-red-50":"border-slate-200"," rounded-xl focus:ring-2 focus:ring-teal-500 outline-none resize-none transition-all"),maxLength:50001}),s.length>5e4&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1 font-bold",children:"Note exceeds maximum length of 50,000 characters."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400 italic flex-1 mr-8",children:"Clicking the button below will use AI to restructure your text into SOAP format. This data is handled securely and according to privacy protocols."}),(0,a.jsxs)("button",{onClick:I,disabled:g||!s.trim()||s.length>5e4,className:"px-8 py-4 gradient-teal text-white font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:grayscale flex items-center gap-2",children:[(0,a.jsx)(d,{size:20})," Generate SOAP Note"]})]})]})})]})]})}},5328:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(7437),n=s(2265),i=s(9061),l=s(6127);let o={SOAP:[{key:"subjective",label:"Subjective",description:"Patient's reports, history, symptoms"},{key:"objective",label:"Objective",description:"Exam findings, vitals, labs"},{key:"assessment",label:"Assessment",description:"Summary of status"},{key:"plan",label:"Plan",description:"Next steps, follow-up, education"}],PROGRESS:[{key:"interval_history",label:"Interval History",description:"Events or changes since last visit"},{key:"exam",label:"Exam",description:"Current physical findings"},{key:"impression",label:"Impression",description:"Current status of problems"},{key:"plan",label:"Plan",description:"Changes to medication or care plan"}],DISCHARGE:[{key:"admission_diagnosis",label:"Admission Diagnosis",description:"Reason for admission"},{key:"hospital_course",label:"Hospital Course",description:"Brief summary of treatment"},{key:"discharge_condition",label:"Discharge Condition",description:"Stable, Improved, etc."},{key:"discharge_medication",label:"Discharge Medication",description:"List of meds to take home"},{key:"follow_up",label:"Follow Up",description:"Instructions for next appointment"}]};function r(e){let{initialData:t,onSave:s,noteType:r="SOAP"}=e,[c,d]=(0,n.useState)(t||{}),u=o[r]||o.SOAP,p=(e,t)=>{d({...c,[e]:t})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pb-4 border-b border-slate-100",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-slate-900",children:["Structured ",r," Note"]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>s(c,"draft"),className:"flex items-center gap-2 px-4 py-2 text-teal-600 bg-teal-50 hover:bg-teal-100 rounded-lg transition-colors font-semibold",children:"Save as Draft"}),(0,a.jsxs)("button",{onClick:()=>s(c,"finalized"),className:"flex items-center gap-2 px-6 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition-colors shadow-sm",children:[(0,a.jsx)(i.Z,{size:18})," Finalize Note"]})]})]}),(0,a.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex gap-3 text-amber-800 text-sm",children:[(0,a.jsx)(l.Z,{className:"shrink-0",size:20}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"AI Safety Review Required:"})," Please verify all facts and clinical details. This AI does not provide diagnoses or treatment plans. You are responsible for the clinical accuracy of this document."]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6",children:u.map(e=>(0,a.jsxs)("div",{className:"bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm",children:[(0,a.jsxs)("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-200",children:[(0,a.jsx)("h3",{className:"font-bold text-slate-800 text-lg",children:e.label}),(0,a.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wider",children:e.description})]}),(0,a.jsx)("textarea",{className:"w-full h-48 p-6 text-slate-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-teal-500 resize-none",value:c[e.key]||"",onChange:t=>p(e.key,t.target.value)})]},e.key))})]})}},2800:function(e,t,s){"use strict";s.d(t,{gr:function(){return n},iJ:function(){return o},r:function(){return l},yN:function(){return i}});let a=s(8472).Z.create({baseURL:"http://localhost:8000/api/v1"});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),a.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)));let n={getAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keyword";return a.get("/notes/",{params:{search:e,mode:t}})},getById:e=>a.get("/notes/".concat(e)),create:e=>a.post("/notes/structure",e),generateSoap:e=>a.post("/notes/".concat(e,"/generate")),update:(e,t)=>a.put("/notes/".concat(e),t),delete:e=>a.delete("/notes/".concat(e)),getAudit:e=>a.get("/notes/".concat(e,"/audit")),getHistory:e=>a.get("/notes/".concat(e,"/history"))},i={getAll:e=>a.get("/patients/",{params:{search:e}}),getById:e=>a.get("/patients/".concat(e)),getTimeline:e=>a.get("/patients/".concat(e,"/timeline")),create:e=>a.post("/patients/",e),update:(e,t)=>a.patch("/patients/".concat(e),t),getReport:e=>a.get("/patients/".concat(e,"/report")),downloadReportPdf:e=>a.get("/patients/".concat(e,"/report/pdf"),{responseType:"blob"}),toggleStatus:(e,t)=>a.patch("/patients/".concat(e),{status:t})},l={getHistory:e=>a.get("/patients/".concat(e,"/history")),addHistory:(e,t)=>a.post("/patients/".concat(e,"/history"),t),updateHistory:(e,t)=>a.put("/patients/history/".concat(e),t),deleteHistory:e=>a.delete("/patients/history/".concat(e)),getMedications:e=>a.get("/patients/".concat(e,"/medications")),addMedication:(e,t)=>a.post("/patients/".concat(e,"/medications"),t),updateMedication:(e,t)=>a.put("/patients/medications/".concat(e),t),deleteMedication:e=>a.delete("/patients/medications/".concat(e)),addAllergy:(e,t)=>a.post("/patients/".concat(e,"/allergies"),t),updateAllergy:(e,t)=>a.put("/patients/allergies/".concat(e),t),deleteAllergy:e=>a.delete("/patients/allergies/".concat(e)),getAdmissions:e=>a.get("/patients/".concat(e,"/admissions")),addAdmission:(e,t)=>a.post("/patients/".concat(e,"/admissions"),t),updateAdmission:(e,t)=>a.put("/patients/admissions/".concat(e),t),deleteAdmission:e=>a.delete("/patients/admissions/".concat(e)),getProcedures:e=>a.get("/patients/".concat(e,"/procedures")),addProcedure:(e,t)=>a.post("/patients/".concat(e,"/procedures"),t),updateProcedure:(e,t)=>a.put("/patients/procedures/".concat(e),t),deleteProcedure:e=>a.delete("/patients/procedures/".concat(e)),getDocuments:e=>a.get("/patients/".concat(e,"/documents")),uploadDocument:(e,t)=>a.post("/patients/".concat(e,"/documents/upload"),t,{headers:{"Content-Type":"multipart/form-data"}}),addDocument:(e,t)=>a.post("/patients/".concat(e,"/documents"),t),updateDocument:(e,t)=>a.put("/patients/documents/".concat(e),t),deleteDocument:e=>a.delete("/patients/documents/".concat(e)),getTasks:e=>a.get("/patients/".concat(e,"/tasks")),addTask:(e,t)=>a.post("/patients/".concat(e,"/tasks"),t),updateTask:(e,t)=>a.put("/patients/tasks/".concat(e),t),deleteTask:e=>a.delete("/patients/tasks/".concat(e)),getBilling:e=>a.get("/patients/".concat(e,"/billing")),addBilling:(e,t)=>a.post("/patients/".concat(e,"/billing"),t),updateBilling:(e,t)=>a.put("/patients/billing/".concat(e),t),deleteBilling:e=>a.delete("/patients/billing/".concat(e))},o={login:e=>a.post("/auth/login",e),register:e=>a.post("/auth/register",e),getMe:()=>a.get("/auth/me")}}},function(e){e.O(0,[236,48,971,23,744],function(){return e(e.s=2014)}),_N_E=e.O()}]);