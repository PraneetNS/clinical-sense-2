(()=>{var e={};e.id=364,e.ids=[364],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8129:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(3844),s(2029),s(5866);var r=s(3191),a=s(8716),n=s(7922),l=s.n(n),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["notes",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3844)),"C:\\Users\\savan\\OneDrive\\Desktop\\something_crazy\\frontend\\src\\app\\notes\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\savan\\OneDrive\\Desktop\\something_crazy\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\savan\\OneDrive\\Desktop\\something_crazy\\frontend\\src\\app\\notes\\new\\page.tsx"],u="/notes/new/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/notes/new/page",pathname:"/notes/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2151:(e,t,s)=>{Promise.resolve().then(s.bind(s,2018))},2018:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(326),a=s(7577),n=s(5047),l=s(434),i=s(8069),o=s(1890),c=s(1291);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,s(2881).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var u=s(949),x=s(7383);function p(){let[e,t]=(0,a.useState)(""),[s,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[g,f]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),[y,j]=(0,a.useState)(null),[N,w]=(0,a.useState)([]),[P,_]=(0,a.useState)(void 0),[S,q]=(0,a.useState)("SOAP"),k=(0,n.useRouter)(),C=()=>{localStorage.removeItem("note_draft"),localStorage.removeItem("note_title_draft")},A=async()=>{if(!s.trim()||s.length<10){f("Clinical notes must be at least 10 characters long.");return}try{h(!0),f(null);let t=(await i.gr.create({title:e||"Untitled Note",raw_content:s,note_type:S,patient_id:P})).data;j(t.id),v(t.structured_content),C()}catch(e){console.error(e),f(e.response?.data?.detail||"Failed to generate SOAP note. Please check your API connection.")}finally{h(!1)}},z=async()=>{confirm("This will replace your current structured edits with a fresh AI generation. Continue?")&&(v(null),A())},D=async(e,t="finalized")=>{if(y)try{h(!0),await i.gr.update(y,{structured_content:e,status:t}),k.push("/dashboard")}catch(e){f("Failed to save changes."),h(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[(0,r.jsxs)("nav",{className:"bg-white border-b border-slate-200 px-10 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[r.jsx(l.default,{href:"/dashboard",className:"text-slate-500 hover:text-teal-600 transition-colors",children:r.jsx(o.Z,{size:24})}),r.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"New Clinical Documentation"})]}),m&&r.jsx("div",{className:"text-teal-600 text-sm font-medium animate-pulse",children:"Processing..."})]}),(0,r.jsxs)("main",{className:"flex-1 p-10 max-w-6xl mx-auto w-full",children:[g&&(0,r.jsxs)("div",{className:"mb-8 bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3",children:[r.jsx(c.Z,{size:20}),r.jsx("p",{className:"text-sm font-medium",children:g})]}),b?(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx(x.Z,{initialData:b,onSave:D,noteType:S}),r.jsx("div",{className:"flex justify-center pb-20",children:(0,r.jsxs)("button",{onClick:z,className:"flex items-center gap-2 text-slate-400 hover:text-teal-600 transition-colors text-sm font-medium",children:[r.jsx(u.Z,{size:16})," Not satisfied? Regenerate Structured Note"]})})]}):r.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden",children:(0,r.jsxs)("div",{className:"p-8 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Patient (Optional)"}),(0,r.jsxs)("select",{value:P||"",onChange:e=>_(e.target.value?Number(e.target.value):void 0),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",children:[r.jsx("option",{value:"",children:"-- Select Patient --"}),N.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.mrn,")"]},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Note Type"}),(0,r.jsxs)("select",{value:S,onChange:e=>q(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",children:[r.jsx("option",{value:"SOAP",children:"SOAP Note"}),r.jsx("option",{value:"PROGRESS",children:"Progress Note"}),r.jsx("option",{value:"DISCHARGE",children:"Discharge Summary"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Note Title"}),r.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"e.g. Pt #9822 - Recurring Migraine",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Raw Clinical Notes"}),(0,r.jsxs)("span",{className:`text-xs font-medium ${s.length>45e3?"text-red-500":"text-slate-400"}`,children:[s.length.toLocaleString()," / 50,000"]})]}),r.jsx("textarea",{value:s,onChange:e=>p(e.target.value),placeholder:"Paste observation notes here... (min 10 characters)",className:`w-full h-80 px-4 py-3 bg-slate-50 border ${s.length>5e4?"border-red-500 bg-red-50":"border-slate-200"} rounded-xl focus:ring-2 focus:ring-teal-500 outline-none resize-none transition-all`,maxLength:50001}),s.length>5e4&&r.jsx("p",{className:"text-red-500 text-xs mt-1 font-bold",children:"Note exceeds maximum length of 50,000 characters."})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[r.jsx("p",{className:"text-xs text-slate-400 italic flex-1 mr-8",children:"Clicking the button below will use AI to restructure your text into SOAP format. This data is handled securely and according to privacy protocols."}),(0,r.jsxs)("button",{onClick:A,disabled:m||!s.trim()||s.length>5e4,className:"px-8 py-4 gradient-teal text-white font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:grayscale flex items-center gap-2",children:[r.jsx(d,{size:20})," Generate SOAP Note"]})]})]})})]})]})}},3844:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var r=s(8570);let a=(0,r.createProxy)(String.raw`C:\Users\savan\OneDrive\Desktop\something_crazy\frontend\src\app\notes\new\page.tsx`),{__esModule:n,$$typeof:l}=a;a.default;let i=(0,r.createProxy)(String.raw`C:\Users\savan\OneDrive\Desktop\something_crazy\frontend\src\app\notes\new\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[278,312,181],()=>s(8129));module.exports=r})();